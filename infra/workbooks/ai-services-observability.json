{
  "version": "Notebook/1.0",
  "items": [
    {
      "type": 1,
      "content": {
        "json": "# AI Services Observability\nThis workbook summarizes request volume, latency percentiles, and operation breakdown."
      },
      "name": "text - title"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlParameterItem/1.0",
        "parameters": [
          {
            "id": "timeRange",
            "name": "Time range",
            "type": 1,
            "isRequired": true,
            "value": { "durationMs": 3600000 },
            "timeContext": { "durationMs": 3600000 }
          }
        ],
        "style": "pills"
      },
      "name": "parameters"
    },
    {
      "type": 9,
      "content": {
        "version": "KqlItem/1.0",
        "query": "requests\n| where $__timeFilter()\n| summarize Requests=count() by bin(timestamp, 5m)\n| order by timestamp asc",
        "size": 0,
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "visualization": "timechart"
      },
      "name": "request-volume"
    },
    {
      "type": 9,
      "content": {
        "version": "KqlItem/1.0",
        "query": "requests\n| where $__timeFilter()\n| summarize P50=percentile(duration, 50), P90=percentile(duration, 90), P95=percentile(duration, 95), P99=percentile(duration, 99)",
        "size": 0,
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "visualization": "table"
      },
      "name": "latency-percentiles"
    },
    {
      "type": 9,
      "content": {
        "version": "KqlItem/1.0",
        "query": "requests\n| where $__timeFilter()\n| summarize Requests=count(), P95=percentile(duration, 95) by operation_Name\n| top 10 by Requests desc",
        "size": 0,
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "visualization": "table",
        "gridSettings": {
          "labelSettings": {
            "showLabel": true
          }
        }
      },
      "name": "operation-breakdown"
    }
  ],
  "styleSettings": {},
  "isLocked": false
}
